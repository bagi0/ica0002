mysql_host: bagi0-2
mysql_database: agama
mysql_user: agama
mysql_password: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          36663866376634613933303635616135656332666238313934646338356461663631383638316366
          6434666463356266633635663337653765353436666533340a333065343434656433363461343463
          33353163306532373931646338626132643833643161393435386561303231303433326235343338
          6563346239616531300a333030363831363138653462626531366662373666666334346638356364
          34633136323631646536623533323564643131636264626132653732346364613238353763363364
          3666643830383665653639313035636562626464396638333333
          
mysql_login_user: admin
mysql_login_pass: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          64396139353666343762386333383963313239663337376565633766343564376530316231373266
          3365326230656464386231396561333035643164333136610a383833373466353934633565326636
          64313566326435313639616239383564666638316665333461393838643835623936613837643566
          3065633866353430360a363165613763346165613032663031633839373738346564613263346432
          3764
          
mysql_exporter_user: exporter
mysql_exporter_pass: admin

backup_user: backup
mysql_backup_password: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          62343432353033316565663237666230666461363265386665343032323033393036623434393964
          3366393336353731613262363831663138313137653137650a653363326633363431306337636437
          66336362303931383737626133386431353365396637653531333162633262613033303965666230
          3463656438646534390a356537636239653363336534386464666434333565353631376261356432
          6138

replication_password: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          35363833393335363937646330643639366163316534396632343637653064316132656530346564
          3437393037623464336566313061366330366636313663320a333731353136383333316134306130
          64343963623066643433393436356637376238616461623736303530346532313663353730326338
          3263353338663061650a666430633839323330383335653566386462343134623064333532313063
          6630


grafana_user: peyser
grafana_password: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          33386363653466663335343830326265346364333031383961646139333331323365366239376637
          3664613061663462346538303230643132623231656238640a613863393134653835643535303632
          64653665316462306134646234653938376531393631356237313463363261313134653135323539
          3363313432323638360a363165643239366336643032323164323335303936616432626464303432
          6334


mysql_backup_host: "{{ groups['db_servers'] | reject('eq', mysql_host) | first | default(mysql_host) }}"

dns_forwarders:
  - 8.8.8.8
  - 1.1.1.1
  - 9.9.9.9
  - 9.9.9.10

local_network: 192.168.42.0/23
localhost: 127.0.0.0/8  
localhost_address: 127.0.0.1

vm1_ip: 192.168.43.{{ hostvars['bagi0-1']['ansible_default_ipv4']['address'].split('.')[3] }}
vm2_ip: 192.168.43.{{ hostvars['bagi0-2']['ansible_default_ipv4']['address'].split('.')[3] }}

vm1_port_number : "{{ hostvars['bagi0-1']['ansible_default_ipv4']['address'].split('.')[3] }}80"
vm2_port_number : "{{ hostvars['bagi0-2']['ansible_default_ipv4']['address'].split('.')[3] }}80"

node_id: "{{ (ansible_port / 100) | int }}"

domain: rabagh
fqdn: rabagh.io

dns_record:
 - name: bagi0
   type: A
   ipaddress: 192.168.43.{{ hostvars['bagi0-2']['ansible_default_ipv4']['address'].split('.')[3] }}
 - name: bagi0
   type: A
   ipaddress: 192.168.43.{{ hostvars['bagi0-1']['ansible_default_ipv4']['address'].split('.')[3] }}
   
   
backup_server_ip: 192.168.42.132
backup_server_ssh_key: ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAIEu6pFFWyuRrl4WGFPQGElYN9txwTGm2wSntcpVAaN90

docker_agama_port1: 8003
docker_agama_port2: 8004
agama_port: 8000
agama_port1: 8000
agama_containers: 2
docker_network: 172.17.0.0/16
agama_port_2: 8002
agama_container_range: 4


# Jobs for prometheus

url_port: 33380
grafana_port: 3001
prometheus_port: 9090
influxdb_port: 8086

node_exporter_port: 9100
bind_exporter_port: 9119
mysql_exporter_port: 9104
nginx_exporter_port: 9113
influxdb_exporter_port: 9324
haproxy_exporter_port: 9101
keepalived_exporter_port: 9165

prometheus_exporters:
  
  node:
    port: 9100

  nginx:
    port: 9113

  mysql:
    port: 9104

  bind:
    port: 9119
       
  influxdb:
    port: 9424
    
  haproxy:
    port: 9101

  keepalived:
    port: 9165


# Haproxy
haproxy_port: 88
haproxy_stats_port: 9188


prometheus_jobs:
  - name: linux
    target_port: 9100
    target_group: all
  - name: bind9
    target_port: 9119
    target_group: dns_servers
  - name: mysql
    target_port: 9104
    target_group: db_servers
  - name: nginx
    target_port: 9113
    target_group: all
  - name: influxdb
    target_port: 9424
    target_group: prometheus
  - name: haproxy
    target_port: 9101
    target_group: haproxy
  - name: keepalived
    target_port: 9165
    target_group: keepalived_master

pinger_pings:
  -  google.com
  -  cloudflare.com
  -  twitter.com
  -  facebook.com
