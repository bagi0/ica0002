mysql_host: bagi0-1
mysql_backup_host: bagi0-2
mysql_database: agama
mysql_user: agama ##deyis
mysql_password: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          36663866376634613933303635616135656332666238313934646338356461663631383638316366
          6434666463356266633635663337653765353436666533340a333065343434656433363461343463
          33353163306532373931646338626132643833643161393435386561303231303433326235343338
          6563346239616531300a333030363831363138653462626531366662373666666334346638356364
          34633136323631646536623533323564643131636264626132653732346364613238353763363364
          3666643830383665653639313035636562626464396638333333

mysql_exporter_user: exporter
mysql_exporter_pass: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          64323436383863363639333130326561353839653532396435383065373630666665646564383163
          3366366235306664613336386135303633386430393463640a393532666462613334303334303331
          32306535633264353064616539326266313134303734326139313332303239363965383033313131
          3064353233383136330a333233616136336462303830376135373130396665396461623165343530
          6634

backup_user: backup ##deyis
mysql_backup_password: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          62343432353033316565663237666230666461363265386665343032323033393036623434393964
          3366393336353731613262363831663138313137653137650a653363326633363431306337636437
          66336362303931383737626133386431353365396637653531333162633262613033303965666230
          3463656438646534390a356537636239653363336534386464666434333565353631376261356432
          6138

replication_password: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          31343531373932666161333432323839616334633165653762643264303730333139346332663430
          3262656135343439653263653163636264663731633263360a323239336635376534643561343039
          30393230646232653233316134383363343963613030343765383033353365336662393135613332
          3332306530366536390a636330633530653338373838613031303532343036376165343737316363
          3239


grafana_user: peyser
grafana_password: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          62623934633462656338633431653232333432316336306135656237346535393064656134663566
          3532656665613763393930346263346137653931336562650a313366626434366638633237396335
          33616637396662633162313262363165326564633565643466393730306631326262653866346465
          6366666435313666620a366530313239376365623765343930616162386636313239316338383862
          3833

dns_transfer_key_name: transfer.key
dns_transfer_key: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          65343332353230623936383933663739663563626164343963616334653366653636336266366630
          3237346561333735656563623766666366386637363437620a313736383735373832336230323636
          32393738353361653735333430373764303038326232323830333839656332313835626438303165
          6465346331316337340a616233353261626639393334346233343063383437313337363236343133
          66623636643763383862386466336639363433613232363035613736383934363964646134333739
          3161333632333935383339393137636139313938383266306631

dns_nsupdate_key_name: nsupdate.key
dns_nsupdate_key: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          38356565323232356564363865323639396533353230306635323030323636346534373136386231
          6264383739306630623863396431643563613861373064650a373133653330646563313561343838
          33633433383230323961363466643230346338623236646266656363343762323565626137653562
          3531316162373466340a383337393532613337343834616361653461323539373862336265376131
          62346231623063643034326238333331663864313231373562333061336332346532363139343565
          3738343265333064663231303931363961336335363965333631



dns_forwarders:
  - 8.8.8.8
  - 1.1.1.1
  - 9.9.9.9
  - 9.9.9.10

a_records:
  - subdomain: backup
    ip:  192.168.42.132
    
    
local_network: 192.168.42.0/23
localhost: 127.0.0.0/8  
localhost_address: 127.0.0.1

vm1_ip: 192.168.42.{{ hostvars['bagi0-1']['ansible_default_ipv4']['address'].split('.')[3] }}
vm2_ip: 192.168.42.{{ hostvars['bagi0-2']['ansible_default_ipv4']['address'].split('.')[3] }}

vm1_port_number : "{{ hostvars['bagi0-1']['ansible_default_ipv4']['address'].split('.')[3] }}80"
vm2_port_number : "{{ hostvars['bagi0-2']['ansible_default_ipv4']['address'].split('.')[3] }}80"

node_id: "{{ (ansible_port / 100) | int }}"

domain: rabagh
fqdn: rabagh.io

dns_record:
 - name: bagi0
   type: A
   ipaddress: 192.168.42.{{ hostvars['bagi0-2']['ansible_default_ipv4']['address'].split('.')[3] }}
 - name: bagi0
   type: A
   ipaddress: 192.168.42{{ hostvars['bagi0-1']['ansible_default_ipv4']['address'].split('.')[3] }}
   
   
backup_server_ip: 192.168.42.132
backup_server_ssh_key: ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAIEu6pFFWyuRrl4WGFPQGElYN9txwTGm2wSntcpVAaN90


reverse_domain: 168.192.in-addr.arpa


docker_agama_port1: 8003
docker_agama_port2: 8004
agama_port: 8000
agama_port1: 8000
agama_containers: 2
docker_network: 172.17.0.0/16
agama_port_2: 8002
agama_container_range: 4


# Jobs for prometheus

url_port: 33380
grafana_port: 3001
prometheus_port: 9090
influxdb_port: 8086

node_exporter_port: 9100
bind_exporter_port: 9119
mysql_exporter_port: 9104
nginx_exporter_port: 9113
influxdb_exporter_port: 9324
haproxy_exporter_port: 9101
keepalived_exporter_port: 9165

prometheus_exporters:
  
  node:
    port: 9100

  nginx:
    port: 9113

  mysql:
    port: 9104

  bind:
    port: 9119
       
  influxdb:
    port: 9424
    
  haproxy:
    port: 9101

  keepalived:
    port: 9165


# Haproxy
haproxy_port: 88
haproxy_stats_port: 9188
haproxy_stats_uri: monitor


prometheus_jobs:
  - name: linux
    target_port: 9100
    target_group: all
  - name: bind9
    target_port: 9119
    target_group: dns_servers
  - name: mysql
    target_port: 9104
    target_group: db_servers
  - name: nginx
    target_port: 9113
    target_group: all
  - name: influxdb
    target_port: 9424
    target_group: prometheus
  - name: haproxy
    target_port: 9101
    target_group: haproxy
  - name: keepalived
    target_port: 9165
    target_group: haproxy

pinger_pings:
  -  google.com
  -  cloudflare.com
  -  twitter.com
  -  facebook.com
  
dns_cname_records:
  grafana: "{{ groups['grafana'][0] }}"
  influxdb: "{{ groups['influxdb'][0] }}"
  lb1: "{{ groups['haproxy'][0] }}"
  lb2: "{{ groups['haproxy'][1] }}"
  mysql1: "{{ groups['db_servers'][0] }}"
  mysql2: "{{ groups['db_servers'][1] }}"
  ns1: "{{ groups['dns_servers'][0] }}"
  ns2: "{{ groups['dns_servers'][1] }}"
  #ns3: "{{ groups['dns_servers'][2] }}"
  prometheus: "{{ groups['prometheus'][0] }}"
  web1: "{{ groups['web_servers'][0] }}"
#  web2: "{{ groups['web_servers'][1] }}"
